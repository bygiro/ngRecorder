angular.module("ng-recorder",[]).directive("ngRecorder",["$window","$parse","$compile",function(e,o,r){return contrFunction=["$scope","$timeout","$element","$attrs","$parse",function(e,o,r,t,n){r.recorder(e.options);var d=r.data("recorder_data");d.settings.flowOpts&&"undefined"!=typeof Flow?r.on("upload_completed.recorder",function(t,n,d,c){var a=r.data("$ngModelController"),i=!1;try{d=JSON.parse(d)}catch(i){console.log(i)}return!d.result||i?void(a&&a.$setValidity("uploaded",!1)):void(d.relativePath&&(e.ngModel=d.relativePath,o()))}):r.on("recording_ended.recorder",function(){var t=r.recorder("getRecordedData");r.recorder("_blobToDataURL",t,function(r){e.ngModel=r,o()})})}],{scope:{options:"=ngrOptions",ngModel:"=?"},restrict:"AE",controller:contrFunction}}]);